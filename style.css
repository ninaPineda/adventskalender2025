/* ===========================
   Tokens: Farben, Radius, Schatten
   =========================== */
   /* Head oben in die CSS-Datei setzen */
@import url("https://fonts.googleapis.com/css2?family=Fredoka:wght@400..700&display=swap");

:root{ --font-ui: "Fredoka", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }

body{ font-family: var(--font-ui); }

:root{
  --color-black:#202521;
  --color-white:#dceefc;
  --color-main-1:#cf2f0f;      /* rot */
  --color-main-2:#316e23;      /* grün */
  --color-accent:#FFD530;      /* gelb */

  /* 3D/Glass Defaults */
  --radius-1:10px;
  --radius-2:14px;
  --radius-round:999px;

  /* Layered shadows for 3D */
  --elev-1:
    4px 4px 0 rgba(255, 255, 255, 0.2) inset,
    0 6px 12px rgba(0, 0, 0, 0.25) ;

  /* Subtle inner shine for glossy bits */
  --shine: radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.65) 0%, rgba(255,255,255,0) 55%);
  --ring: conic-gradient(from 0deg, rgba(255,255,255,.7), rgba(255,255,255,0) 90%, rgba(255,255,255,.7));

  /* Gradients for 3D surfaces */
  --grad-main-1: linear-gradient(180deg, #ff5530 0%, var(--color-main-1) 60%, #8f1f0b 100%);
  --grad-main-2: linear-gradient(180deg, #5bb53d 0%, var(--color-main-2) 60%, #1e4a15 100%);
  --grad-accent: linear-gradient(180deg, #ffe981 0%, var(--color-accent) 58%, #c2a018 100%);

  /* Text */
  --fg:#172017;
  --muted: #1c241c;
}

/* ===========================
   Reset kompakt + Motion-safe
   =========================== */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; height:100%; -webkit-text-size-adjust:100%; }
body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--fg);
  background: var(--color-white);
}
h1,h2,h3,p{color:var(--color-black); margin:0; }
a{ color: var(--color-white); -webkit-tap-highlight-color: rgba(0,0,0,.08); text-decoration: none;}
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition:none !important; scroll-behavior:auto !important; }
}

/* ===========================
   Desktop-Blocker
   =========================== */
.desktop-blocker{ display:none; }
@media (min-width:720px){
  .desktop-blocker{
    position:fixed; inset:0; display:grid; place-items:center;
    background: var(--color-white); z-index:9999;
  }
  .desktop-blocker p{
    font-size:18px; padding:16px 20px; border-radius:var(--radius-2);
    background: var(--color-white);
    box-shadow: var(--elev-1);
    border:1px solid rgba(0,0,0,.06);
  }
}

/* ===========================
   Header (frosted + subtle 3D)
   =========================== */
.site-header {
  position: fixed;
background-image: url(assets/header.png);
background-repeat: no-repeat;
background-position: center;
background-size: 100% 100%;
  top: 0;
  width: 100%;
  height: 4rem;
    z-index:10; filter: drop-shadow(0 0rem 5rem rgba(0,21,45,.4));
  padding: 0 1rem 0 .5rem;
  display: grid;
  grid-gap: .3rem;
  grid-template-columns: repeat(4, 1fr);
  align-items: center;
  justify-items: center;
}
.adventskalender{ transform:translateY(-0.2rem); grid-column: span 3; font-size:1.8rem; }
.coins{ display:flex; align-items:center; gap:.35rem; font-size:larger; }

/* ===========================
   Layout
   =========================== */
main{ top:0; z-index:0; }

/* Backdrops vereinheitlicht */
.backdrop, .info-backdrop{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/street.png") no-repeat center / cover;
  z-index:-1;
}

.index-backdrop{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/street.png") no-repeat center / cover;
  z-index:-1;
}

/* Content spacing */
.day-content, .info-content{ margin:6rem 1rem 0; height:80%;}



/* ===========================
   Footer Nav (icon buttons w/ depth)
   =========================== */
footer, nav{
  position:fixed; bottom:0; left:0; width:100%;
  height: calc(100vw * 0.2412);
  background: url(assets/footer.png) no-repeat center / contain;
  display:flex; justify-content:center; align-items:center; gap:2rem; padding:0 2rem;
  z-index:10; filter: drop-shadow(0 0rem 5rem rgba(0,21,45,.4));
}
.footer-help, .footer-today, .footer-highscore{
  border:none; padding:0; cursor:pointer; background-color:transparent; aspect-ratio:1;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
  transition: transform .12s ease, filter .12s ease;
}
.footer-help{    background:url(assets/info.png) no-repeat center / contain; width:4rem; }
.footer-today{   background:url(assets/today.png) no-repeat center / contain; width:7rem; transform: translateY(-1rem); }
.footer-highscore{ background:url(assets/highscore.png) no-repeat center / contain; width:4rem; }

.footer-help:active, .footer-today:active, .footer-highscore:active{ transform: translateY(2px) scale(.98); filter: brightness(.95); }

/* ===========================
   Häuser
   =========================== */
/* Galerie-Variablen */
:root{
  --slide: 70vw;  /* Breite des aktiven Bilds */
  --peek: 15vw;   /* sichtbarer Rand links/rechts */
}

/* Bühne mit Padding, damit die Nachbarn "reinpeeken" */
.street{
  padding: 0 var(--peek);
  overflow: hidden;
  position: fixed; top:0; width: 100%; height: 100%;
  display: flex; align-items: center;
}

/* Reihe der Slides */
.houses{
  display: flex;
  transition: transform .3s ease;
  will-change: transform;
  height: 100%;
  width: auto;
}

.house{ flex: 0 0 var(--slide);   transform: scale(1);}
.house img{ width: 100%; height: 100%; display: block; user-select: none; -webkit-user-drag: none; }

/* Pfeile bleiben wie gehabt */
.arrow {
  position: absolute;
  z-index: 999;
  top: 50%;
  transform: translateY(-50%);
  font-size: 6rem;
  background: none;
  border: none;
  color: var(--color-accent);
  cursor: pointer;
  text-shadow: 0 0px 25px rgba(0, 0, 0, 0.8);
}.arrow.left{ left: .5rem; }
.arrow.right{ right: .5rem; }
.arrow:disabled{ opacity:.3; cursor: default; }

/* ===========================
   Question Card (glas + gelb)
   =========================== */
.question{
  padding:1.2rem; margin:1rem 0; line-height:150%;
  color: var(--muted);
  background: var(--color-accent);
  border-radius:16px;
    box-shadow:var(--elev-1);
  backdrop-filter: blur(3px) saturate(1.05);
}
.wunschzettel-paper {
  background: #fffcf8f3;
  padding: 1.6rem;
  border-radius: 1rem;
  border: 2px dashed #c49a66;
  font-family: "Caveat", cursive;
  font-size: 1.35rem;
  line-height: 1.7;
  margin-bottom: 1rem;
}
.handwritten {
  font-family: "Shadows Into Light Two", cursive;
  font-size: 1.2rem;
  line-height: 1.5;
}
.question h2{ margin-bottom:.5rem; }

/* ===========================
   Buttons – vereinheitlicht (3D)
   =========================== */
.btn,
.solution-button{
  display: inline-block;
  width: 100%;
  margin: .5rem 0;
  padding: .7rem 1.2rem;
  text-align: left;
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: .2px;
  color: var(--color-black);
  background: var(--color-accent);
  border: none;
  border-radius: 1.5rem;
  cursor: pointer;
  text-decoration: none;

  /* 3D-Look */
  box-shadow:var(--elev-1);
  transform: translateY(0);
  transition: all 0.15s ease;
}

.btn:hover,
.solution-button:hover {
  filter: brightness(1.05);
}

.btn:active,
.solution-button:active {
  transform: translateY(3px);
  box-shadow:
    0 1px 0 rgba(0, 0, 0, 0.3),
    inset 0 4px 8px rgba(0, 0, 0, 0.35);
}

.hint-button {
  background: var(--color-main-2);
  color: var(--color-white);
  font-size: 0.95rem;
}

.yes-btn, .no-btn, .close-btn{
  width: 2.5rem;
  height: 2.5rem;
  border:none; outline:none; cursor:pointer; z-index:1000;
  filter: drop-shadow(0 8px 14px rgba(0,0,0,.25));
  transition: transform .1s ease, filter .12s ease;
}

.yes-btn{
    background:url("assets/icon_7.png") no-repeat center / contain;
}

.no-btn, .close-btn{
  background:url("assets/icon_8.png") no-repeat center / contain;
}

.close-btn{
  position: fixed;
  top: 1rem;
  right: 1rem;
}

/* ===========================
   Dialog
   =========================== */
dialog{
  border:none; border-radius:12px; padding:1rem 1.5rem; max-width:300px; text-align:center;
  background: var(--color-main-2);
  backdrop-filter: blur(6px) saturate(1.05);
    box-shadow:var(--elev-1) ;
}
dialog p{ margin-top:3rem; margin-bottom:2rem; line-height:150%;   color: var(--color-white);}
dialog button{ padding:.3rem 1rem; text-align:center; }
dialog::backdrop{ background: rgba(0,0,0,.5); }

/* ===========================
   Back Button
   =========================== */
.back-button{
  position:fixed; top:0.7rem; left:1.5rem; width:2.5rem; height:2.5rem;
  background:url("assets/icon_3.png") no-repeat center / contain;
  border:none; outline:none; cursor:pointer; z-index:1000;
  filter: drop-shadow(0 8px 14px rgba(0,0,0,.25));
  transition: transform .1s ease, filter .12s ease;
}
.back-button:active{ transform: scale(.94); filter: brightness(.95); }

/* ===========================
   Headings
   =========================== */
h1{ color: var(--color-main-1); }

.backdrop-1{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/1.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-2{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/2.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-3{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/3.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-4{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/4.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-5{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/5.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-6{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/6.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-7{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/7.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-8{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/8.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-9{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/9.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-10{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/10.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-11{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/11.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-12{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/12.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-13{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/13.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-14{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/14.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-15{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/15.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-16{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/16.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-17{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/17.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-18{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/18.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-19{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/19.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-20{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/20.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-21{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/21.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-22{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/22.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-23{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/23.png") no-repeat center / cover;
  z-index:-1;
}

.backdrop-24{
  position:fixed; inset:0; width:100%; height:100%;
  background: url("assets/backdrops/24.png") no-repeat center / cover;
  z-index:-1;
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-3px, 2px); }
  40% { transform: translate(3px, -2px); }
  60% { transform: translate(-2px, 1px); }
  80% { transform: translate(2px, -1px); }
  100% { transform: translate(0); }
}

.glitch {
  animation: glitch 150ms steps(2) 1;
}

.mini-img {
  width: 1.7rem;
  height: 1.7rem;
  vertical-align: -0.47rem;
  transform: translateX(-0.15rem);
}

.answer-input {
  width: 80%;
  padding: 1rem;
  font-size: 1.2rem;
  border-radius: 1rem;
  border: none;
  margin-bottom: 1rem;
}

.mini-player{
  margin-top: 1rem;
  height:5rem;
  padding: .8rem 1rem;
  color: var(--color-black);
  background: var(--color-accent);
  border: none;
  border-radius: 1.5rem;
  display: grid;
  gap: .5rem;
}
.mini-player__row{
  display:flex; align-items:center; justify-content:space-between;
  font-weight:600;
}
.mini-player__toggle{
  background: transparent; border:0; font-size:1.4rem; cursor:pointer; color:var(--color-black);
}
.mini-player__bar{
  height:.4rem; background: var(--color-main-2); border-radius:999px; overflow:hidden;
}
.mini-player__progress{
  height:100%; width:0%; background:var(--color-main-1); transition:width .1s linear;
}


      #failOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(255, 105, 180, 0.2);
        z-index: 9999;
        pointer-events: none;
        transition: opacity 0.5s ease;
        opacity: 0;
      }

      #failOverlay.visible {
        opacity: 1;
      }

      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(156, 0, 0, 0.8); /* leicht transparent */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        backdrop-filter: blur(4px);
      }

      .overlay-content {
        background: white;
        padding: 2rem 3rem;
        border-radius: 1rem;
        box-shadow: 0 0 5rem rgba(0, 0, 0, 0.2);
        font-size: 1.5rem;
        font-weight: bold;
      }
